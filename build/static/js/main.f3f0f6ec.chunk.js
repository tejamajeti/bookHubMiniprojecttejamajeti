(this.webpackJsonpbookhub=this.webpackJsonpbookhub||[]).push([[0],{38:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(29),i=s.n(n),o=s(5),r=s(2),l=s(10),d=s.n(l),u=s(11),h=s(12),j=s(13),b=s(15),p=s(14),m=s(7),g=s.n(m),O=(s(38),s(0)),x=function(e){Object(b.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:"",errMsg:""},e.onChangeUserName=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.onSuccess=function(t){console.log("Login Success Redirecting.....");var s=e.props.history;g.a.set("jwt_token",t,{expires:2,path:"/"}),s.replace("/")},e.onSubmittingForm=function(){var t=Object(u.a)(d.a.mark((function t(s){var a,c,n,i,o,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),t.prev=1,a=e.state,c=a.username,n=a.password,i={username:c,password:n},""!==c&&""!==n){t.next=7;break}return e.setState({errMsg:"Username or Password Cannot be Empty"}),t.abrupt("return");case 7:return"https://apis.ccbp.in/login",o={method:"POST",body:JSON.stringify(i)},t.next=11,fetch("https://apis.ccbp.in/login",o);case 11:return r=t.sent,t.next=14,r.json();case 14:l=t.sent,!0===r.ok?e.onSuccess(l.jwt_token):e.setState({errMsg:l.error_msg}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),e.setState({errMsg:"Login Failed"});case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(s,[{key:"render",value:function(){var e=this.state,t=e.username,s=e.password,a=e.errMsg;return void 0!==g.a.get("jwt_Token")?Object(O.jsx)(r.a,{to:"/"}):Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746799815/3056c7bbe7efb0d3d71dcb5062f1e077527d7f5d_adlge9.jpg",alt:"website login",className:"login-img"}),Object(O.jsx)("div",{className:"login-container-div",children:Object(O.jsxs)("form",{id:"myForm",onSubmit:this.onSubmittingForm,children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746801028/Group_7731_zflzlo.png",alt:"login website logo",className:"logo"}),Object(O.jsxs)("div",{className:"input-div",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username*"}),Object(O.jsx)("input",{type:"text",placeholder:"Username",id:"username",value:t,onChange:this.onChangeUserName})]}),Object(O.jsxs)("div",{className:"input-div",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password*"}),Object(O.jsx)("input",{type:"password",placeholder:"Password",id:"password",value:s,onChange:this.onChangePassword})]}),Object(O.jsxs)("p",{id:"error",children:[" ",a," "]}),Object(O.jsxs)("button",{type:"submit",children:[" ",Object(O.jsx)("span",{children:" Login "})," "]})]})})]})}}]),s}(a.Component),v=x,f=s(21),k=function(e){return void 0===g.a.get("jwt_token")?Object(O.jsx)(r.a,{to:"/login"}):Object(O.jsx)(r.b,Object(f.a)({},e))},y=s(17),N=s.n(y),w=s(18),S=(s(65),Object(r.g)((function(e){var t=e.history;return Object(O.jsxs)("div",{className:"header-container",children:[Object(O.jsx)(o.b,{to:"/",children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746801028/Group_7731_zflzlo.png",alt:"website logo"})}),Object(O.jsxs)("ul",{className:"UL",children:[Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/",className:"/"===t.location.pathname?"active-styles":"home-styles",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/shelf",className:"/shelf"===t.location.pathname?"active-styles":"bookshelves-styles",children:"Bookshelves"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{type:"button",onClick:function(){var t=e.history;g.a.remove("jwt_token"),t.replace("/login")},children:"Logout"})})]})]})}))),_=(s(66),function(e){Object(b.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={bookDetails:[],error:!1,isLoading:!1},e.getDetails=Object(u.a)(d.a.mark((function t(){var s,a,c,n,i,o,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=g.a.get("jwt_token"),a=e.props.match,c=a.params.id,n="https://apis.ccbp.in/book-hub/books/".concat(c),i={method:"GET",headers:{Authorization:"Bearer ".concat(s)}},t.prev=5,e.setState({isLoading:!0}),t.next=9,fetch(n,i);case 9:return o=t.sent,t.next=12,o.json();case 12:r=t.sent,l={id:r.book_details.id,aboutAuthor:r.book_details.about_author,aboutBook:r.book_details.about_book,authorName:r.book_details.author_name,coverPic:r.book_details.cover_pic,rating:r.book_details.rating,readStatus:r.book_details.read_status,title:r.book_details.title},e.setState({bookDetails:l,isLoading:!1}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),e.setState({error:!0,isLoading:!1});case 20:case"end":return t.stop()}}),t,null,[[5,17]])}))),e.renderFailureView=function(){return Object(O.jsxs)("div",{className:"failure-container",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1747021162/Group_7522_yazyij.png",alt:"failure view"}),Object(O.jsx)("p",{children:"Something went wrong, Please try again"}),Object(O.jsx)("button",{type:"button",onClick:e.getDetails,children:"Try Again"})]})},e.renderFunction=function(){var t=e.state.error,s=e.state.bookDetails;return t?e.renderFailureView():Object(O.jsxs)("div",{className:"display-container",children:[Object(O.jsx)(S,{}),Object(O.jsxs)("div",{id:"display",children:[Object(O.jsxs)("div",{className:"book-item-container",children:[Object(O.jsxs)("div",{className:"book-div",children:[Object(O.jsx)("img",{src:s.coverPic,alt:s.title}),Object(O.jsxs)("div",{className:"details-div",children:[Object(O.jsxs)("h1",{children:[" ",s.title," "]}),Object(O.jsxs)("div",{className:"book-details-container",children:[Object(O.jsxs)("p",{children:[" ",s.authorName," "]}),Object(O.jsxs)("p",{children:["Avg Rating",Object(O.jsx)("span",{className:"image-span",children:Object(O.jsx)(w.a,{style:{fill:"#FBBF24"}})}),s.rating]}),Object(O.jsxs)("p",{children:["Status:",Object(O.jsxs)("span",{className:"status",children:[" ",s.readStatus," "]})]})]})]})]}),Object(O.jsx)("hr",{style:{color:"grey",width:"100%",margin:"auto"}}),Object(O.jsx)("h3",{className:"h3",children:" About Author "}),Object(O.jsxs)("p",{className:"about-author",children:[" ",s.aboutAuthor," "]}),Object(O.jsx)("h3",{className:"h3",children:" About Book "}),Object(O.jsxs)("p",{className:"about-author",children:[" ",s.aboutBook," "]})]}),Object(O.jsxs)("ul",{className:"footer-container",children:[Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980545/google_alg9ce.png",alt:"footer-icons"})," "]}),Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980523/twitter_vkqee7.png",alt:"footer-icons"})," "]}),Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980523/instagram_sitmh5.png",alt:"footer-icons"})," "]}),Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980557/youtube_a2aurq.png",alt:"footer-icons"})," "]})]}),Object(O.jsx)("p",{className:"contact-item",children:" Contact Us "})]})]})},e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"render",value:function(){return this.state.isLoading?Object(O.jsx)("div",{className:"loader-container",testid:"loader",children:Object(O.jsx)(N.a,{type:"TailSpin",color:"#0284C7",height:50,width:50})}):this.renderFunction()}}]),s}(a.Component)),A=_,B=(s(67),function(e){var t=e.filterItem,s=e.isActive,a=e.changeActiveOption;return Object(O.jsx)("li",{children:Object(O.jsx)("button",{type:"button",className:s?"list-item":null,onClick:function(){a(t.value)},children:t.label})})}),C=(s(68),function(e){var t=e.bookDetails,s=t.title,a=t.authorName,c=t.coverPic,n=t.rating,i=t.readStatus,r=t.id;return Object(O.jsx)("li",{className:"li",children:Object(O.jsxs)(o.b,{to:"/books/".concat(r),className:"li",children:[Object(O.jsx)("img",{src:c,alt:s}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:s}),Object(O.jsxs)("div",{className:"details-container",children:[Object(O.jsxs)("p",{className:"author-name",children:[" ",a," "]}),Object(O.jsxs)("p",{children:["Avg Rating",Object(O.jsx)("span",{className:"image-span",children:Object(O.jsx)(w.a,{style:{fill:"#FBBF24"}})}),n]}),Object(O.jsxs)("p",{children:["Status: ",Object(O.jsxs)("span",{className:"status-span",children:[" ",i," "]})]})]})]})]})})}),F=(s(69),[{id:"22526c8e-680e-4419-a041-b05cc239ece4",value:"ALL",label:"All"},{id:"37e09397-fab2-46f4-9b9a-66b2324b2e22",value:"READ",label:"Read"},{id:"2ab42512-3d05-4fba-8191-5122175b154e",value:"CURRENTLY_READING",label:"Currently Reading"},{id:"361d5fd4-9ea1-4e0c-bd47-da2682a5b7c8",value:"WANT_TO_READ",label:"Want to Read"}]),L="INITIAL",T="LOADING",D="SUCCESS",I="FAILURE",R=function(e){Object(b.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={activeOption:F[0].value,searchInput:"",booksApiStatus:L,displayBooksList:[]},e.changeActiveOption=function(t){e.setState({activeOption:t},e.getDisplayBooks),console.log("Active Option from eventListener ".concat(t))},e.onChangeSearchInput=function(t){e.setState({searchInput:t.target.value})},e.onTyping=function(t){console.log(t.key),"Enter"===t.key&&e.getDisplayBooks()},e.getDisplayBooks=Object(u.a)(d.a.mark((function t(){var s,a,c,n,i,o,r,l,u,h;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state,a=s.activeOption,c=s.searchInput,n=g.a.get("jwt_token"),console.log("active Option before request ".concat(a)),i="https://apis.ccbp.in/book-hub/books?shelf=".concat(a,"&search=").concat(c),o={method:"GET",headers:{Authorization:"Bearer ".concat(n)}},t.prev=5,e.setState({booksApiStatus:T}),t.next=9,fetch(i,o);case 9:return r=t.sent,t.next=12,r.json();case 12:l=t.sent,u=l.books,h=u.map((function(e){return{id:e.id,title:e.title,authorName:e.author_name,rating:e.rating,readStatus:e.read_status,coverPic:e.cover_pic}})),console.log(h),e.setState({displayBooksList:h,booksApiStatus:D}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(5),e.setState({booksApiStatus:I});case 22:case"end":return t.stop()}}),t,null,[[5,19]])}))),e.renderLoadingView=function(){return Object(O.jsx)("div",{className:"loader-container",testid:"loader",children:Object(O.jsx)(N.a,{type:"TailSpin",color:"#0284C7",height:50,width:50})})},e.renderSuccessView=function(){var t=e.state,s=t.displayBooksList,a=t.searchInput;return 0===s.length?Object(O.jsxs)("div",{className:"empty-container",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1747204259/Group_crdqel.png",alt:"no books"}),Object(O.jsxs)("p",{children:[" Your search for ",a," did not find any matches. "]})]}):Object(O.jsx)("ul",{className:"success-ul",children:s.map((function(e){return Object(O.jsx)(C,{bookDetails:e},e.id)}))})},e.renderFailureView=function(){return Object(O.jsxs)("div",{className:"failure-container",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1747021162/Group_7522_yazyij.png",alt:"failure view"}),Object(O.jsx)("p",{children:"Something went wrong, Please try again"}),Object(O.jsx)("button",{type:"button",onClick:e.getDisplayBooks,children:"Try Again"})]})},e.renderFunction=function(){switch(e.state.booksApiStatus){case"SUCCESS":return e.renderSuccessView();case"LOADING":return e.renderLoadingView();case"FAILURE":return e.renderFailureView();default:return null}},e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.getDisplayBooks()}},{key:"render",value:function(){var e=this,t=this.state.activeOption,s=F.find((function(e){return t===e.value}));return Object(O.jsxs)("div",{className:"shelf-div",children:[Object(O.jsx)(S,{}),Object(O.jsxs)("div",{className:"shelf-container",children:[Object(O.jsxs)("ul",{className:"filters-container",children:[Object(O.jsx)("h1",{className:"bookShelevs",children:" BookShelves "}),F.map((function(s){return Object(O.jsx)(B,{filterItem:s,isActive:t===s.value,changeActiveOption:e.changeActiveOption},s.id)}))]}),Object(O.jsxs)("div",{className:"books-container",children:[Object(O.jsxs)("div",{className:"search-container",children:[Object(O.jsxs)("h1",{children:[" ",s.label," Books "]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"search",placeholder:"Search",onChange:this.onChangeSearchInput,onKeyDown:this.onTyping}),Object(O.jsx)("button",{type:"button",onClick:this.getDisplayBooks,testid:"searchButton",children:Object(O.jsx)(w.b,{})})]})]}),this.renderFunction(),Object(O.jsxs)("ul",{className:"footer",children:[Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980545/google_alg9ce.png",alt:"footer-icons"})," "]}),Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980523/twitter_vkqee7.png",alt:"footer-icons"})," "]}),Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980523/instagram_sitmh5.png",alt:"footer-icons"})," "]}),Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980557/youtube_a2aurq.png",alt:"footer-icons"})," "]})]}),Object(O.jsx)("p",{className:"shelf-contact",children:" Contact Us "})]})]})]})}}]),s}(a.Component),P=R,E=(s(70),function(){return Object(O.jsxs)("div",{className:"not-found-container",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1747048024/Group_7484_viwnxt.png",alt:"not found"}),Object(O.jsx)("h2",{children:" Page Not Found "}),Object(O.jsx)("p",{children:"we are sorry, the page you requested could not be found,Please go back to the homepage."}),Object(O.jsx)(o.b,{to:"/",children:Object(O.jsx)("button",{type:"button",children:" Go Back To Home "})})]})}),U=s(32),G=s.n(U),V=(s(86),s(87),s(88),"INITIAL"),z="LOADING",M="SUCCESS",q="FAILURE",Y=function(e){Object(b.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={topRatedBooksList:[],apiStatus:V},e.getTopRatedBooks=Object(u.a)(d.a.mark((function t(){var s,a,c,n,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({apiStatus:z}),"https://apis.ccbp.in/book-hub/top-rated-books",s=g.a.get("jwt_token"),a={method:"GET",headers:{Authorization:"Bearer ".concat(s)}},t.next=7,fetch("https://apis.ccbp.in/book-hub/top-rated-books",a);case 7:return c=t.sent,t.next=10,c.json();case 10:n=t.sent,i=n.books.map((function(e){return{authorName:e.author_name,coverPic:e.cover_pic,id:e.id,title:e.title}})),o=Array.from(new Map(i.map((function(e){return[e.id,e]}))).values()),console.log(i),console.log(o),e.setState({topRatedBooksList:i,apiStatus:M}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.setState({apiStatus:q});case 21:case"end":return t.stop()}}),t,null,[[0,18]])}))),e.renderSuccessView=function(){var t=e.state.topRatedBooksList;return Object(O.jsxs)("div",{className:"home-div",children:[Object(O.jsx)(S,{}),Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)("h1",{className:"main-heading",children:"Find Your Next Favorite Books?"}),Object(O.jsx)("p",{children:"You are in the right place. Tell us what titles or genres you have enjoyed in the past, and we will give you surprisingly insightful recommendations."}),Object(O.jsxs)("div",{className:"carousel-container",children:[Object(O.jsxs)("div",{className:"child-1",children:[Object(O.jsx)("h2",{children:"Top Rated Books"}),Object(O.jsx)(o.b,{to:"/shelf",className:"home-link",children:Object(O.jsx)("button",{type:"button",className:"find",children:"Find Books"})})]}),Object(O.jsx)("ul",{className:"slider-ul",children:Object(O.jsx)(G.a,Object(f.a)(Object(f.a)({className:"slider-ul"},{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,width:100}),{},{style:{width:"100%"},children:t.map((function(e){return Object(O.jsx)("li",{className:"carousel-div",children:Object(O.jsxs)(o.b,{to:"/books/".concat(e.id),className:"carousel-div",children:[Object(O.jsx)("img",{src:e.coverPic,alt:e.title}),Object(O.jsx)("h1",{className:"name-h1",children:e.title.trim()})," ",Object(O.jsx)("p",{className:"author",children:e.authorName.trim()})," "]})},e.id)}))}))})]}),Object(O.jsxs)("ul",{className:"footer-div",children:[Object(O.jsx)("li",{children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980545/google_alg9ce.png",alt:"footer-icons"})}),Object(O.jsx)("li",{children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980523/twitter_vkqee7.png",alt:"footer-icons"})}),Object(O.jsx)("li",{children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980523/instagram_sitmh5.png",alt:"footer-icons"})}),Object(O.jsx)("li",{children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1746980557/youtube_a2aurq.png",alt:"footer-icons"})})]}),Object(O.jsx)("p",{className:"contact",children:"Contact Us"})]})]})},e.renderFailureView=function(){return Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)("h1",{children:"Find Your Next Favorite Books?"}),Object(O.jsxs)("p",{children:[" ","You are in the right place. Tell us what titles or genres you have enjoyed in the past, and we will give you surprisingly insightful recommendations."," "]}),Object(O.jsxs)("div",{className:"carousel-container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Top Rated Books"}),Object(O.jsx)("button",{type:"button",children:" Find Books "})]}),Object(O.jsx)("img",{src:"https://res.cloudinary.com/dh0e3kfeh/image/upload/v1747021162/Group_7522_yazyij.png",alt:"failure view",className:"failure-img"}),Object(O.jsxs)("p",{className:"failure-para",children:[" ","Something went wrong, Please try again."," "]}),Object(O.jsxs)("button",{type:"button",className:"failure-btn",onClick:e.getTopRatedBooks,children:[" ","Try Again"," "]})]})]})},e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.getTopRatedBooks()}},{key:"render",value:function(){switch(this.state.apiStatus){case z:return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S,{}),Object(O.jsx)("div",{className:"loader-container",testid:"loader",children:Object(O.jsx)(N.a,{type:"TailSpin",color:"#0284C7",height:50,width:50,ariaLabel:"tail-spin-loading"})})]});case q:return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S,{}),this.renderFailureView()]});case M:return this.renderSuccessView();default:return null}}}]),s}(a.Component),J=Y,H=(s(89),function(){return Object(O.jsxs)(r.d,{children:[Object(O.jsx)(r.b,{exact:!0,path:"/login",component:v}),Object(O.jsx)(k,{exact:!0,path:"/",component:J}),Object(O.jsx)(k,{exact:!0,path:"/shelf",component:P}),Object(O.jsx)(k,{exact:!0,path:"/books/:id",component:A}),Object(O.jsx)(r.b,{component:E})]})});i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(H,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.f3f0f6ec.chunk.js.map